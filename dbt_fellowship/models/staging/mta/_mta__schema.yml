version: 2

models:
  - name: stg_stations
    description: >
      Staged data from the MTA Subway Stations dataset (https://data.ny.gov/Transportation/MTA-Subway-Stations/39hk-dx4f/about_data).
      Documentation directly copied from MTA Data Dictionary. 
    columns:
      - name: "gtfs_stop_id"
        description: >
          The ID used for the station in the General Transit Feed Specification (GTFS), an open standard used to 
          display public transit schedule data.
        tests:
          - unique
          - not_null
      - name: "station_id"
        description: The Station Master Reference Number.
        tests:
          - not_null
      - name: "complex_id"
        description: The Complex Master Reference Number.
        tests:
          - not_null
      - name: "line"
        description: >
          The operational line of the subway system the station is located on, such as Queens
          Blvd, Lexington Av, or Sea Beach.
      - name: "stop_name"
        description: The name of the subway station.
      - name: "borough"
        description: >
          The borough the station is in. Bx for Bronx, B for Brooklyn, M for Manhattan, Q for
          Queens, SI for Staten Island. 
      - name: "gtfs_latitude"
        description: The latitude for the centroid of the station
      - name: "gtfs_longitude"
        description: The longitude for the centroid of the station
      - name: "ada"
        description: >
          0 if the station is not ADA-accessible, 1 if the station is fully accessible, 
          2 if the station is partially accessible. 
      - name: "ada_northbound"
        description: >
          0 if the station is not ADA-accessible in the northbound direction, 1 if the station is fully
          accessible in the northbound direction.
      - name: "ada_southbound"
        description: > 
          0 if the station is not ADA-accessible in the southbound direction, 1 if the station is fully
          accessible in the southbound direction
  - name: stg_hourly_ridership_20230102
    description: >
      Staged data from the MTA Subway Hourly Ridership dataset (https://data.ny.gov/Transportation/MTA-Subway-Hourly-Ridership-Beginning-February-202/wujg-7c2s/about_data).
      Documentation copied directly from the MTA Data Dictionary, and filtered to transit_timestamp = "'2023-01-02T00:00:00'".
    columns:
      - name: "transit_timestamp"
        description: >
          Timestamp payment took place in local time. All transactions here are rounded down to the nearest
          hour. For example, a swipe that took place at 1:37pm will be reported as having taken place at 1pm.
      - name: "transit_mode"
        description: Distinguishes between the subway, Staten Island Railway, and the Roosevelt Island Tram
      - name: "station_complex_id"
        description: A unique identifier for station complexes
      - name: "station_complex"
        description: >
          The subway complex where an entry swipe or tap took place. Large subway complexes, such as Times Square
          and Fulton Center, may contain multiple subway lines. The subway complex name includes the routes that stop 
          at the complex in parenthesis, such as Zerega Av (6).
      - name: "payment_method"
        description: Specifies whether the payment method used to enter was from OMNY or MetroCard.
      - name: "fare_class_category"
        description: >
          The class of fare payment used for the trip. The consolidated categories are:
          • MetroCard (Fair Fare)
          • MetroCard (Full Fare)
          • MetroCard (Other)
          • MetroCard (Senior & Disability)
          • MetroCard (Students)
          • MetroCard (Unlimited 30-Day)
          • MetroCard (Unlimited 7-Day)
          • OMNY (Full Fare)
          • OMNY (Other)
          • OMNY (Seniors & Disabilities)
      - name: "ridership"
        description: >
          Total number of riders that entered a subway complex via OMNY or MetroCard at the specific hour and for that
          specific fare type.
      - name: "transfers"
        description: >
          Number of individuals who entered a subway complex via a free bus-to-subway, or free out-of-network
          transfer. This represents a subset of total ridership, meaning that these transfers are already included in the
          preceding ridership column. Transfers that take place within a subway complex (e.g., individuals transferring
          from the 2 to the 4 train within Atlantic Avenue) are not captured here.

